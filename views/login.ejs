<%- include('parts/header')%>
<%- include('parts/nav')%>

<div class="container text-center mt-4">
    <h3>Login</h3>
    
    <form action="/login" method="post" class="mb-3">
        <input type="email" class="form-control mb-3" name="email" placeholder="E-mail">
        <% let emailError =validationErrors.find(err=>err.param==='email')%>
        <% if (emailError){%>
            <p class="alert alert-danger">
                <%=emailError.msg%>
            </p>
            <%}%>
        <input type="password" class="form-control mb-3" name="password" placeholder="Password">
                <% let passwordError =validationErrors.find(err=>err.param==='passsword')%>
        <% if (passwordError){%>
            <p class="alert alert-danger">
                <%=passwordError.msg%>
            </p>
            <%}%>
        <input type="submit" class="btn btn-primary mb-3" value="Login">
    </form>
    
    <% if (authError) { %>
        <p class="alert alert-danger">
            <%= authError %>
        </p>
    <% } %>
    <% for (let error of validationErrors){ %>
        <p class="alert alert-danger">
            <%= error.msg%>
        </p>
        <% } %>
    <br>

    <div>
        Don't have an account? <a href="/signup" class="mb-3">Create Account</a>
    </div>
</div>

<%- include('parts/footer')%>
